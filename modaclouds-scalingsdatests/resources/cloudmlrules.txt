<monitoringRules xmlns="http://www.modaclouds.eu/xsd/1.0/monitoring_rules_schema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.modaclouds.eu/xsd/1.0/monitoring_rules_schema">
  <monitoringRule id="cpuUtilizationAboveRule" timeStep="%6$d" timeWindow="%6$d">
    <monitoredTargets>
      <monitoredTarget class="VM" type="Frontend"/>
    </monitoredTargets>
    <collectedMetric metricName="CPUUtilization">
      <parameter name="samplingProbability">1</parameter>
      <parameter name="samplingTime">%6$d</parameter>
    </collectedMetric>
    <metricAggregation aggregateFunction="Average" groupingClass="CloudProvider"/>
    <condition>METRIC &gt;= %1$s</condition>
    <actions>
      <action name="CloudMLCall">
        <parameter name="ip">%3$s</parameter>
        <parameter name="port">%4$d</parameter>
        <parameter name="command">SCALE</parameter>
        <parameter name="tier">%5$s</parameter>
        <parameter name="n">1</parameter>
        <parameter name="cooldown">%7$d</parameter>
      </action>
    </actions>
  </monitoringRule>
  <monitoringRule id="cpuUtilizationBelowRule" timeStep="%6$d" timeWindow="%6$d">
    <monitoredTargets>
      <monitoredTarget class="VM" type="Frontend"/>
    </monitoredTargets>
    <collectedMetric metricName="CPUUtilization">
      <parameter name="samplingProbability">1</parameter>
      <parameter name="samplingTime">%6$d</parameter>
    </collectedMetric>
    <metricAggregation aggregateFunction="Average" groupingClass="CloudProvider"/>
    <condition>METRIC &lt;= %2$s</condition>
    <actions>
      <action name="CloudMLCall">
        <parameter name="ip">%3$s</parameter>
        <parameter name="port">%4$d</parameter>
        <parameter name="command">SCALE</parameter>
        <parameter name="tier">%5$s</parameter>
        <parameter name="n">-1</parameter>
        <parameter name="cooldown">%7$d</parameter>
      </action>
    </actions>
  </monitoringRule>
</monitoringRules>
